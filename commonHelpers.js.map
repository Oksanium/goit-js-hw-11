{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/cross-icon.svg","../src/img/cross.svg","../src/main.js"],"sourcesContent":["\n'use strict';\n\n\n\nexport function getPhotos(q) {\n    const BASE_URL = 'https://pixabay.com/api/?';\n    const params = new URLSearchParams ({\n    key: '44040237-e4cc253c6c6f225197cba954d',\n    q: q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    });\n    const URL = BASE_URL + params;\n    return fetch(URL)\n      .then(res => {\n        if (!res.ok) { console.log('!res.ok'); throw new Error(res.status);}\n        return res;\n    });\n    //   .then(res => { return res.json(); });\n}\n\n","\n'use strict';\n\n\nexport function render(picsArr) {\n  if (picsArr.length === 0) {\n    throw new Error('');\n  }\n  return picsArr.map(makePic).join(''); \n   \n  function makePic(obj) {\n    return `<li class=\"card\">\n                <a href=\"${obj.largeImageURL}\">\n                <div class=\"img-wrapper\">\n                <img src=\"${obj.webformatURL}\" alt=\"${obj.tags}\">\n                </div>\n                </a>\n            <table>\n                <tr>\n                    <th>Likes</th>\n                    <th>Views</th>\n                    <th>Comments</th>\n                    <th>Downloads</th>\n                </tr>\n                <tr>\n                    <td>\"${obj.likes}\"</td>\n                    <td>\"${obj.views}\"</td>\n                    <td>\"${obj.comments}\"</td>\n                    <td>\"${obj.downloads}\"</td>\n                </tr>\n            </table>\n        </li>`;\n  }\n}\n","export default \"__VITE_ASSET__881c4ee8__\"","export default \"__VITE_ASSET__44adbf13__\"","'use strict';\n\nimport { getPhotos } from './js/pixabay-api';\nimport { render } from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport errIcon from './img/cross-icon.svg';\nimport closeIcon from './img/cross.svg';\n\nconst modalOptions = {\n    captionsData: 'alt',\n    captionDelay: 250,\n};\nconst lightbox = new SimpleLightbox('.gallery a', modalOptions);\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader-wrapper');\nconst form = document.querySelector('.form');\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  gallery.innerHTML = '';\n  \n  const userQuery = form.querySelector('input').value;\n  if (userQuery === '') return;\n  loader.setAttribute('style', 'display: flex;');\n  getPhotos(userQuery)\n        .then( res => res.json() )\n        .then( data => { gallery.innerHTML = render(data.hits); lightbox.refresh(); } )\n        .catch( e =>  showRedToast() )\n        .finally( () => { loader.setAttribute('style', 'display: none;'); } );\n}\n\nfunction showRedToast() {\n  iziToast.show({\n    title: `Sorry, there are no images matching<br>your search query. Please, try again!`,\n    backgroundColor: '#EF4040',\n    timeout: 5000,\n    titleColor: '#fff',\n    titleSize: '16px',\n    iconUrl: errIcon,\n    buttons: [\n      [\n        `<button style=\"background: transparent; padding: 0; margin-left: 30px\" width=\"20\" height=\"20\"><img src=${closeIcon}></button>`,\n        function (instance, toast) {\n          instance.hide(\n            {\n              transitionOut: 'fadeOutUp',\n            },\n            toast,\n            'buttonName'\n          );\n        },\n      ],\n    ],\n    close: false,\n  });\n}\n\n\n\n// toast test\n\n// function onSubmitTest(event) {\n//     event.preventDefault();\n//     showRedToast();\n// }\n"],"names":["getPhotos","q","BASE_URL","params","URL","res","render","picsArr","makePic","obj","errIcon","closeIcon","modalOptions","lightbox","SimpleLightbox","gallery","loader","form","onSubmit","evt","userQuery","data","showRedToast","iziToast","instance","toast"],"mappings":"6vBAKO,SAASA,EAAUC,EAAG,CACzB,MAAMC,EAAW,4BACXC,EAAS,IAAI,gBAAiB,CACpC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAK,EACKG,EAAMF,EAAWC,EACvB,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GAAM,cAAQ,IAAI,SAAS,EAAS,IAAI,MAAMA,EAAI,MAAM,EACjE,OAAOA,CACf,CAAK,CAEL,CCjBO,SAASC,EAAOC,EAAS,CAC9B,GAAIA,EAAQ,SAAW,EACrB,MAAM,IAAI,MAAM,EAAE,EAEpB,OAAOA,EAAQ,IAAIC,CAAO,EAAE,KAAK,EAAE,EAEnC,SAASA,EAAQC,EAAK,CACpB,MAAO;AAAA,2BACgBA,EAAI,aAAa;AAAA;AAAA,4BAEhBA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAWnCA,EAAI,KAAK;AAAA,2BACTA,EAAI,KAAK;AAAA,2BACTA,EAAI,QAAQ;AAAA,2BACZA,EAAI,SAAS;AAAA;AAAA;AAAA,cAIrC,CACH,CCjCA,MAAeC,EAAA,gDCAAC,EAAA,2CCcTC,EAAe,CACjB,aAAc,MACd,aAAc,GAClB,EACMC,EAAW,IAAIC,EAAe,aAAcF,CAAY,EAExDG,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,SAASA,EAASC,EAAK,CACrBA,EAAI,eAAc,EAClBJ,EAAQ,UAAY,GAEpB,MAAMK,EAAYH,EAAK,cAAc,OAAO,EAAE,MAC1CG,IAAc,KAClBJ,EAAO,aAAa,QAAS,gBAAgB,EAC7ChB,EAAUoB,CAAS,EACZ,KAAMf,GAAOA,EAAI,MAAQ,EACzB,KAAMgB,GAAQ,CAAEN,EAAQ,UAAYT,EAAOe,EAAK,IAAI,EAAGR,EAAS,QAAO,CAAG,CAAI,EAC9E,MAAO,GAAMS,GAAgB,EAC7B,QAAS,IAAM,CAAEN,EAAO,aAAa,QAAS,gBAAgB,CAAE,GACzE,CAEA,SAASM,GAAe,CACtBC,EAAS,KAAK,CACZ,MAAO,+EACP,gBAAiB,UACjB,QAAS,IACT,WAAY,OACZ,UAAW,OACX,QAASb,EACT,QAAS,CACP,CACE,0GAA0GC,CAAS,aACnH,SAAUa,EAAUC,EAAO,CACzBD,EAAS,KACP,CACE,cAAe,WAChB,EACDC,EACA,YACZ,CACS,CACF,CACF,EACD,MAAO,EACX,CAAG,CACH"}