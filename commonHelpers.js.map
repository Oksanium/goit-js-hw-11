{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/cross-icon.svg","../src/img/cross.svg","../src/main.js"],"sourcesContent":["'use strict';\n\nexport function getPhotos(q) {\n  const BASE_URL = 'https://pixabay.com/api/?';\n  const params = new URLSearchParams({\n    key: '44040237-e4cc253c6c6f225197cba954d',\n    q: q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const URL = BASE_URL + params;\n  return fetch(URL).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res;\n  });\n}\n","'use strict';\n\nexport function render(picsArr) {\n  return picsArr.map(makePic).join('');\n\n  function makePic(picObj) {\n    return `<li class=\"card\">\n                <a href=\"${picObj.largeImageURL}\">\n                <div class=\"img-wrapper\">\n                <img src=\"${picObj.webformatURL}\" alt=\"${picObj.tags}\">\n                </div>\n                </a>\n            <table>\n                <tr>\n                    <th>Likes</th>\n                    <th>Views</th>\n                    <th>Comments</th>\n                    <th>Downloads</th>\n                </tr>\n                <tr>\n                    <td>${picObj.likes}</td>\n                    <td>${picObj.views}</td>\n                    <td>${picObj.comments}</td>\n                    <td>${picObj.downloads}</td>\n                </tr>\n            </table>\n        </li>`;\n  }\n}\n","export default \"__VITE_ASSET__881c4ee8__\"","export default \"__VITE_ASSET__44adbf13__\"","'use strict';\n\nimport { getPhotos } from './js/pixabay-api';\nimport { render } from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport errIcon from './img/cross-icon.svg';\nimport closeIcon from './img/cross.svg';\n\nconst modalOptions = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\nconst lightbox = new SimpleLightbox('.gallery a', modalOptions);\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader-wrapper');\nconst form = document.querySelector('.form');\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  gallery.innerHTML = '';\n\n  const userQuery = form.querySelector('input').value;\n  if (userQuery === '') return;\n  loader.setAttribute('style', 'display: flex;');\n  getPhotos(userQuery)\n    .then(res => res.json())\n    .then(data => {\n      if (data.hits.length === 0) {\n        throw new Error('no data');\n      }\n      gallery.innerHTML = render(data.hits);\n      lightbox.refresh();\n    })\n    .catch(e => showRedToast())\n    .finally(() => {\n      loader.setAttribute('style', 'display: none;');\n    });\n}\n\nfunction showRedToast() {\n  iziToast.show({\n    title: `Sorry, there are no images matching<br>your search query. Please, try again!`,\n    backgroundColor: '#EF4040',\n    timeout: 5000,\n    titleColor: '#fff',\n    titleSize: '16px',\n    iconUrl: errIcon,\n    buttons: [\n      [\n        `<button style=\"background: transparent; padding: 0; margin-left: 30px\" width=\"20\" height=\"20\"><img src=${closeIcon}></button>`,\n        function (instance, toast) {\n          instance.hide(\n            {\n              transitionOut: 'fadeOutUp',\n            },\n            toast,\n            'buttonName'\n          );\n        },\n      ],\n    ],\n    close: false,\n  });\n}\n\n"],"names":["getPhotos","q","BASE_URL","params","URL","res","render","picsArr","makePic","picObj","errIcon","closeIcon","modalOptions","lightbox","SimpleLightbox","gallery","loader","form","onSubmit","evt","userQuery","data","showRedToast","iziToast","instance","toast"],"mappings":"6vBAEO,SAASA,EAAUC,EAAG,CAC3B,MAAMC,EAAW,4BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAMF,EAAWC,EACvB,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,CACX,CAAG,CACH,CChBO,SAASC,EAAOC,EAAS,CAC9B,OAAOA,EAAQ,IAAIC,CAAO,EAAE,KAAK,EAAE,EAEnC,SAASA,EAAQC,EAAQ,CACvB,MAAO;AAAA,2BACgBA,EAAO,aAAa;AAAA;AAAA,4BAEnBA,EAAO,YAAY,UAAUA,EAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAW1CA,EAAO,KAAK;AAAA,0BACZA,EAAO,KAAK;AAAA,0BACZA,EAAO,QAAQ;AAAA,0BACfA,EAAO,SAAS;AAAA;AAAA;AAAA,cAIvC,CACH,CC5BA,MAAeC,EAAA,gDCAAC,EAAA,2CCcTC,EAAe,CACnB,aAAc,MACd,aAAc,GAChB,EACMC,EAAW,IAAIC,EAAe,aAAcF,CAAY,EAExDG,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,SAASA,EAASC,EAAK,CACrBA,EAAI,eAAc,EAClBJ,EAAQ,UAAY,GAEpB,MAAMK,EAAYH,EAAK,cAAc,OAAO,EAAE,MAC1CG,IAAc,KAClBJ,EAAO,aAAa,QAAS,gBAAgB,EAC7ChB,EAAUoB,CAAS,EAChB,KAAKf,GAAOA,EAAI,MAAM,EACtB,KAAKgB,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,SAAS,EAE3BN,EAAQ,UAAYT,EAAOe,EAAK,IAAI,EACpCR,EAAS,QAAO,CACtB,CAAK,EACA,MAAM,GAAKS,GAAc,EACzB,QAAQ,IAAM,CACbN,EAAO,aAAa,QAAS,gBAAgB,CACnD,CAAK,EACL,CAEA,SAASM,GAAe,CACtBC,EAAS,KAAK,CACZ,MAAO,+EACP,gBAAiB,UACjB,QAAS,IACT,WAAY,OACZ,UAAW,OACX,QAASb,EACT,QAAS,CACP,CACE,0GAA0GC,CAAS,aACnH,SAAUa,EAAUC,EAAO,CACzBD,EAAS,KACP,CACE,cAAe,WAChB,EACDC,EACA,YACZ,CACS,CACF,CACF,EACD,MAAO,EACX,CAAG,CACH"}